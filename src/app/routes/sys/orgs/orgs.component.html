<page-header></page-header>
<div nz-row nzGutter="24">
  <div nz-col nzMd="24" nzLg="5">
    <nz-card nzTitle="我的组织机构">
      <nz-input-group [nzSuffix]="suffixIcon">
        <input type="text" nz-input placeholder="Search" [(ngModel)]="treeName">
      </nz-input-group>
      <ng-template #suffixIcon>
        <i nz-icon type="search"></i>
      </ng-template>
      <nz-tree #treeCom
        [nzData]="orgTree"
        [nzSearchValue]="treeName"
        nzShowIcon="true"
        (nzClick)="clickTreeName($event)">
      </nz-tree>
    </nz-card>
  </div>
  <div nz-col nzMd="24" nzLg="19">
    <nz-card nzTitle="组织机构列表">
      <div nz-row nzGutter="24" style="margin-bottom: 8px;">
        <div nz-col nzMd="12" nzLg="12">
          <button nz-button (click)="addOrg($event)" [nzType]="'primary'" style="margin-bottom: 8px;">
            <i nz-icon type="plus"></i>
             <span>添加</span>
          </button>
        </div>
        <div nz-col nzMd="12" nzLg="12" class="text-right">
          <sf #orgSf mode="search" [schema]="searchSchema" (formSubmit)="searchOrg($event)" (formReset)="resetOrg($event)"></sf>
        </div>
      </div>
      <st #orgSt [page]="pageSet" [total]="total" [bordered]="true" size="middle" [data]="orgData" [columns]="columns"  (change)="pageIndexChange($event)"></st>
    </nz-card>
  </div>
</div>

